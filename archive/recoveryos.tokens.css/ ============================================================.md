```
/* ============================================================
   FILE: recoveryos.tokens.css
   Drop-in: load this once globally.
   ============================================================ */

/* 1) VARIABLES (Light + Dark + Modes) */
/* (This block is exactly what we defined — kept intact for consistency) */
:root {
  --c-purple-950: #1B1548;
  --c-purple-900: #3E2BB8;
  --c-purple-700: #5739FB;
  --c-purple-500: #7C67FF;
  --c-purple-200: #D6D0FF;
  --c-purple-100: #EFEAFF;

  --c-cyan-800: #0C8F86;
  --c-cyan-500: #40E0D0;
  --c-cyan-200: #BFF6F0;
  --c-cyan-100: #E7FFFC;

  --c-green-800: #0F7D67;
  --c-green-500: #2FE6A6;
  --c-green-200: #BFF8E6;
  --c-green-100: #E9FFF7;

  --c-neutral-950: #0B0A14;
  --c-neutral-900: #15142A;
  --c-neutral-800: #1F1E36;
  --c-neutral-700: #2A2942;
  --c-neutral-200: #E9E7FF;
  --c-neutral-100: #FBFAFF;

  --font-heading: "Plus Jakarta Sans", ui-sans-serif, system-ui, -apple-system, "Segoe UI", sans-serif;
  --font-body: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", sans-serif;
  --font-mono: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;

  --tracking-heading-tight: -0.03em;
  --tracking-eyebrow-wide: 0.12em;

  --lh-body: 1.65;
  --lh-heading: 1.15;

  --r-xs: 8px;
  --r-sm: 12px;
  --r-md: 16px;
  --r-lg: 24px;
  --r-xl: 32px;

  --s-1: 4px;
  --s-2: 8px;
  --s-3: 12px;
  --s-4: 16px;
  --s-5: 24px;
  --s-6: 32px;
  --s-7: 48px;
  --s-8: 64px;

  --e0: 0 0 0 0 rgba(0,0,0,0);
  --e1: 0 8px 24px -8px rgba(11,10,20,0.12);
  --e2: 0 16px 48px -16px rgba(11,10,20,0.16);

  --dur-arrive: 420ms;
  --dur-glide: 520ms;
  --dur-settle: 680ms;
  --dur-confirm: 260ms;
  --dur-carry: 560ms;

  --ease-regulate: cubic-bezier(0.2, 0.8, 0.2, 1);
  --ease-decide: cubic-bezier(0.25, 1, 0.5, 1);

  --surface-bg: var(--c-neutral-100);
  --surface-panel: var(--c-neutral-100);
  --surface-card: var(--c-neutral-100);
  --surface-elevated: var(--c-neutral-100);
  --surface-border: var(--c-neutral-200);
  --surface-divider: rgba(233,231,255,0.55);

  --ink-primary: var(--c-neutral-950);
  --ink-secondary: rgba(11,10,20,0.72);
  --ink-tertiary: rgba(11,10,20,0.52);
  --ink-inverse: var(--c-neutral-100);

  --focus-ring: var(--c-cyan-500);
  --focus-ring-subtle: rgba(64,224,208,0.35);

  --return-surface: var(--c-purple-900);
  --return-surface-hover: var(--c-purple-700);
  --return-ink: var(--c-neutral-100);
  --return-glow: rgba(124,103,255,0.28);
  --return-focus: var(--focus-ring);

  --grip-accent: var(--c-cyan-500);
  --grip-accent-soft: var(--c-cyan-200);
  --grip-focus: var(--c-cyan-500);

  --trace-surface: var(--c-neutral-100);
  --trace-border: var(--c-neutral-200);
  --trace-ink: var(--ink-primary);
  --trace-seal: var(--c-cyan-500);
  --trace-seal-soft: var(--c-cyan-200);

  --thread-line: rgba(62,43,184,0.26);
  --thread-node: var(--c-purple-500);
  --thread-g0: rgba(62,43,184,0.34);
  --thread-g1: rgba(64,224,208,0.32);
  --thread-g2: rgba(47,230,166,0.32);

  --handrail-surface: var(--c-neutral-100);
  --handrail-border: var(--c-neutral-200);
  --handrail-edge: var(--c-cyan-500);
  --handrail-ink: var(--ink-primary);

  --compass-accent: var(--c-green-500);
  --compass-accent-deep: var(--c-green-800);

  --drift-surface: var(--c-neutral-100);
  --drift-border: rgba(62,43,184,0.22);
  --drift-indicator: rgba(62,43,184,0.55);

  --state-info: var(--c-cyan-500);
  --state-growth: var(--c-green-500);
  --state-attention: rgba(62,43,184,0.55);
  --state-critical: var(--c-neutral-950);

  --chart-grid: rgba(233,231,255,0.55);
  --chart-axis: rgba(11,10,20,0.52);

  --chart-1: var(--c-purple-900);
  --chart-2: var(--c-purple-700);
  --chart-3: var(--c-purple-500);
  --chart-4: rgba(124,103,255,0.55);
  --chart-5: var(--c-cyan-500);
  --chart-6: rgba(64,224,208,0.55);
  --chart-7: var(--c-green-500);
  --chart-8: rgba(47,230,166,0.55);
  --chart-9: var(--c-neutral-700);
  --chart-10: rgba(42,41,66,0.55);

  /* Pillars */
  --pillar-er-base: var(--c-purple-900);
  --pillar-er-tint: var(--c-purple-200);
  --pillar-er-soft: var(--c-purple-100);

  --pillar-sr-base: var(--c-purple-700);
  --pillar-sr-tint: var(--c-purple-200);
  --pillar-sr-soft: var(--c-purple-100);

  --pillar-sc-base: var(--c-cyan-500);
  --pillar-sc-tint: var(--c-cyan-200);
  --pillar-sc-soft: var(--c-cyan-100);

  --pillar-cr-base: rgba(43,207,193,1);
  --pillar-cr-tint: var(--c-cyan-200);
  --pillar-cr-soft: var(--c-cyan-100);

  --pillar-ii-base: var(--c-purple-500);
  --pillar-ii-tint: var(--c-purple-200);
  --pillar-ii-soft: var(--c-purple-100);

  --pillar-dm-base: var(--c-green-500);
  --pillar-dm-tint: var(--c-green-200);
  --pillar-dm-soft: var(--c-green-100);

  --field-ambient: radial-gradient(1200px 800px at 20% 10%, rgba(124,103,255,0.18), rgba(0,0,0,0)),
                   radial-gradient(900px 700px at 80% 30%, rgba(64,224,208,0.12), rgba(0,0,0,0)),
                   radial-gradient(900px 700px at 60% 80%, rgba(47,230,166,0.10), rgba(0,0,0,0));
}

[data-theme="dark"] {
  --surface-bg: var(--c-neutral-950);
  --surface-panel: var(--c-neutral-900);
  --surface-card: var(--c-neutral-900);
  --surface-elevated: var(--c-neutral-900);
  --surface-border: rgba(233,231,255,0.14);
  --surface-divider: rgba(233,231,255,0.12);

  --ink-primary: var(--c-neutral-100);
  --ink-secondary: rgba(251,250,255,0.72);
  --ink-tertiary: rgba(251,250,255,0.52);
  --ink-inverse: var(--c-neutral-950);

  --trace-surface: var(--c-neutral-900);
  --trace-border: rgba(233,231,255,0.14);
  --handrail-surface: var(--c-neutral-900);
  --handrail-border: rgba(233,231,255,0.14);

  --drift-border: rgba(124,103,255,0.20);
  --drift-indicator: rgba(124,103,255,0.45);

  --e1: 0 8px 24px -10px rgba(0,0,0,0.45);
  --e2: 0 16px 48px -18px rgba(0,0,0,0.55);

  --field-ambient: radial-gradient(1200px 800px at 20% 10%, rgba(124,103,255,0.14), rgba(0,0,0,0)),
                   radial-gradient(900px 700px at 80% 30%, rgba(64,224,208,0.10), rgba(0,0,0,0)),
                   radial-gradient(900px 700px at 60% 80%, rgba(47,230,166,0.08), rgba(0,0,0,0));
}

[data-attention="calm"] {
  --ui-density: 1;
  --max-choices-per-scene: 3;
  --copy-length: 1;
  --motion-multiplier: 1;
}
[data-attention="focus"] {
  --ui-density: 0.85;
  --max-choices-per-scene: 1;
  --copy-length: 0.75;
  --motion-multiplier: 0.85;
}
[data-reduce-motion="true"] {
  --motion-multiplier: 0;
  --dur-arrive: 0ms;
  --dur-glide: 0ms;
  --dur-settle: 0ms;
  --dur-confirm: 0ms;
  --dur-carry: 0ms;
}
[data-contrast="high"] {
  --surface-border: rgba(233,231,255,0.85);
  --surface-divider: rgba(233,231,255,0.85);
  --ink-secondary: rgba(11,10,20,0.88);
  --focus-ring-subtle: rgba(64,224,208,0.55);
}
[data-theme="dark"][data-contrast="high"] {
  --surface-border: rgba(233,231,255,0.55);
  --surface-divider: rgba(233,231,255,0.55);
  --ink-secondary: rgba(251,250,255,0.88);
}

/* 2) BASE STYLES (optional but recommended) */
html, body {
  background: var(--surface-bg);
  color: var(--ink-primary);
  font-family: var(--font-body);
  line-height: var(--lh-body);
}
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading);
  line-height: var(--lh-heading);
  letter-spacing: var(--tracking-heading-tight);
}
.eyebrow {
  font-family: var(--font-heading);
  letter-spacing: var(--tracking-eyebrow-wide);
  text-transform: uppercase;
  font-size: 12px;
  color: var(--ink-secondary);
}
.eyebrow.is-accent { color: var(--c-cyan-500); }

/* 3) CORE UTILITIES (so teams move fast without drift) */
.u-surface { background: var(--surface-panel); border: 1px solid var(--surface-border); border-radius: var(--r-lg); }
.u-card { background: var(--surface-card); border: 1px solid var(--surface-border); border-radius: var(--r-xl); box-shadow: var(--e1); }
.u-ink-secondary { color: var(--ink-secondary); }
.u-focus-ring:focus-visible { outline: none; box-shadow: 0 0 0 4px var(--focus-ring-subtle); border-color: var(--focus-ring); }

/* 4) PILLAR BRUSHING HELPERS (set --p-*) */
.pillar { --p-base: var(--c-purple-900); --p-tint: var(--c-purple-200); --p-soft: var(--c-purple-100); }
.pillar[data-pillar="ER"] { --p-base: var(--pillar-er-base); --p-tint: var(--pillar-er-tint); --p-soft: var(--pillar-er-soft); }
.pillar[data-pillar="SR"] { --p-base: var(--pillar-sr-base); --p-tint: var(--pillar-sr-tint); --p-soft: var(--pillar-sr-soft); }
.pillar[data-pillar="SC"] { --p-base: var(--pillar-sc-base); --p-tint: var(--pillar-sc-tint); --p-soft: var(--pillar-sc-soft); }
.pillar[data-pillar="CR"] { --p-base: var(--pillar-cr-base); --p-tint: var(--pillar-cr-tint); --p-soft: var(--pillar-cr-soft); }
.pillar[data-pillar="II"] { --p-base: var(--pillar-ii-base); --p-tint: var(--pillar-ii-tint); --p-soft: var(--pillar-ii-soft); }
.pillar[data-pillar="DM"] { --p-base: var(--pillar-dm-base); --p-tint: var(--pillar-dm-tint); --p-soft: var(--pillar-dm-soft); }

/* Pillar Chip */
.pillar-chip {
  background: var(--p-soft);
  border: 1px solid var(--p-tint);
  color: var(--ink-primary);
  border-radius: 999px;
  padding: 6px 10px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.pillar-chip::before {
  content: "";
  width: 8px; height: 8px;
  border-radius: 999px;
  background: var(--p-base);
}

/* Pillar Rail */
.pillar-rail {
  border-left: 3px solid var(--p-base);
  padding-left: var(--s-4);
}

/* Thread gradient rail */
.thread-rail {
  background: linear-gradient(90deg, var(--thread-g0), var(--thread-g1), var(--thread-g2));
}

/* Ambient Field */
.field-ambient { background: var(--field-ambient); }
// ============================================================
// FILE: tailwind.config.js
// Uses CSS vars for colors so design tokens remain source-of-truth.
// ============================================================
module.exports = {
  content: ["./src/**/*.{js,ts,jsx,tsx,mdx,html}"],
  theme: {
    extend: {
      fontFamily: {
        heading: ["var(--font-heading)"],
        body: ["var(--font-body)"],
        mono: ["var(--font-mono)"],
      },
      colors: {
        // Foundation access (optional)
        purple: {
          950: "var(--c-purple-950)",
          900: "var(--c-purple-900)",
          700: "var(--c-purple-700)",
          500: "var(--c-purple-500)",
          200: "var(--c-purple-200)",
          100: "var(--c-purple-100)",
        },
        cyan: {
          800: "var(--c-cyan-800)",
          500: "var(--c-cyan-500)",
          200: "var(--c-cyan-200)",
          100: "var(--c-cyan-100)",
        },
        green: {
          800: "var(--c-green-800)",
          500: "var(--c-green-500)",
          200: "var(--c-green-200)",
          100: "var(--c-green-100)",
        },
        neutral: {
          950: "var(--c-neutral-950)",
          900: "var(--c-neutral-900)",
          800: "var(--c-neutral-800)",
          700: "var(--c-neutral-700)",
          200: "var(--c-neutral-200)",
          100: "var(--c-neutral-100)",
        },

        // Semantic aliases (recommended)
        surface: {
          bg: "var(--surface-bg)",
          panel: "var(--surface-panel)",
          card: "var(--surface-card)",
          border: "var(--surface-border)",
        },
        ink: {
          primary: "var(--ink-primary)",
          secondary: "var(--ink-secondary)",
          tertiary: "var(--ink-tertiary)",
          inverse: "var(--ink-inverse)",
        },
        focus: {
          ring: "var(--focus-ring)",
          subtle: "var(--focus-ring-subtle)",
        },
        os: {
          return: "var(--return-surface)",
          grip: "var(--grip-accent)",
          seal: "var(--trace-seal)",
          compass: "var(--compass-accent)",
          handrail: "var(--handrail-edge)",
        },
      },
      borderRadius: {
        xs: "var(--r-xs)",
        sm: "var(--r-sm)",
        md: "var(--r-md)",
        lg: "var(--r-lg)",
        xl: "var(--r-xl)",
      },
      boxShadow: {
        e0: "var(--e0)",
        e1: "var(--e1)",
        e2: "var(--e2)",
      },
    },
  },
  plugins: [],
};
// ============================================================
// FILE: tokens.ts
// Tiny TS helpers for pillar brushing + lens defaults.
// ============================================================

export type Lens = "individual" | "professional" | "organisation";
export type Pillar = "ER" | "SR" | "SC" | "CR" | "II" | "DM";

export const PILLAR_NAMES: Record<Pillar, string> = {
  ER: "Emotional Regulation",
  SR: "Stress Resilience",
  SC: "Social Connectivity",
  CR: "Cognitive Reframing",
  II: "Identity Integration",
  DM: "Decision Mastery",
};

// These map to CSS variables (so you can set style={{...}} or data attrs)
export const PILLAR_CSS_VARS: Record<Pillar, { base: string; tint: string; soft: string }> = {
  ER: { base: "var(--pillar-er-base)", tint: "var(--pillar-er-tint)", soft: "var(--pillar-er-soft)" },
  SR: { base: "var(--pillar-sr-base)", tint: "var(--pillar-sr-tint)", soft: "var(--pillar-sr-soft)" },
  SC: { base: "var(--pillar-sc-base)", tint: "var(--pillar-sc-tint)", soft: "var(--pillar-sc-soft)" },
  CR: { base: "var(--pillar-cr-base)", tint: "var(--pillar-cr-tint)", soft: "var(--pillar-cr-soft)" },
  II: { base: "var(--pillar-ii-base)", tint: "var(--pillar-ii-tint)", soft: "var(--pillar-ii-soft)" },
  DM: { base: "var(--pillar-dm-base)", tint: "var(--pillar-dm-tint)", soft: "var(--pillar-dm-soft)" },
};

export function pillarStyle(pillar: Pillar): React.CSSProperties {
  const p = PILLAR_CSS_VARS[pillar];
  return {
    // Used by .pillar-chip / .pillar-rail helpers
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    ["--p-base" as any]: p.base,
    ["--p-tint" as any]: p.tint,
    ["--p-soft" as any]: p.soft,
  };
}

// Lens-aware default emphasis (for portal / pages)
export const LENS_DEFAULTS: Record<Lens, { entry: string; railsVisible: boolean; depth: string }> = {
  individual: { entry: "runMoment", railsVisible: false, depth: "glance" },
  professional: { entry: "seeOrchestration", railsVisible: true, depth: "thread" },
  organisation: { entry: "trust", railsVisible: true, depth: "thread" },
};
// ============================================================
// FILE: PillarChip.tsx (example pattern)
// ============================================================
import React from "react";
import type { Pillar } from "./tokens";
import { pillarStyle, PILLAR_NAMES } from "./tokens";

export function PillarChip({ pillar, label }: { pillar: Pillar; label?: string }) {
  return (
    <span className="pillar pillar-chip" data-pillar={pillar} style={pillarStyle(pillar)}>
      {label ?? PILLAR_NAMES[pillar]}
    </span>
  );
}

```
**How to “run” it:**  
* Add recoveryos.tokens.css globally.  
* Toggle modes via attributes on <html> or <body>:  
    * data-theme="dark"  
    * data-attention="calm" / data-attention="focus"  
    * data-reduce-motion="true"  
    * data-contrast="high"  
If you want, next I’ll generate the same “paste-and-go” bindings for **every signature component** (ReturnButton / TraceTile / ThreadView / Handrail panels) as tiny CSS modules + example React wrappers, all using these vars so the kit can’t drift.  
