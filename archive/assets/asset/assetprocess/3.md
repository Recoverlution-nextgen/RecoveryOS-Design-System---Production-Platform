**mapping pack** your team can drop into the repo so **sync scripts + registry + frontend selector** all share the *same truth*.  
It includes:  
1. SURFACE_TO_ALTITUDE  
2. SURFACE_TO_ROOM  
3. SURFACE_DEFAULTS  
4. COMPONENT_DEFAULTS  
5. ASPECT_PRIORITY_BY_SURFACE  
6. ASSET_CLASS_BY_COMPONENT  
7. inferFitFromSurface() + inferDefaultsForComponent() helpers  
  
```
src/assets/mappings.ts

export type Lens = "individual" | "professional" | "organisation";
export type Altitude = "companion" | "console" | "command_center";
export type Room =
  | "journeys"
  | "navicues"
  | "toolkit"
  | "wellbeing"
  | "state"
  | "library"
  | "dashboard"
  | "trust"
  | "integrations";

export type Surface =
  // Marketing
  | "mkt_home"
  | "mkt_how_it_works"
  | "mkt_trust"
  | "mkt_three_worlds"
  | "mkt_specs"
  | "mkt_contact"
  | "mkt_404"

  // Companion
  | "cmp_portal_shell"
  | "cmp_player"
  | "cmp_journeys_home"
  | "cmp_journeys_week"
  | "cmp_journeys_step"
  | "cmp_navicues_feed"
  | "cmp_navicues_detail"
  | "cmp_toolkit_home"
  | "cmp_toolkit_article"
  | "cmp_toolkit_practice"
  | "cmp_wellbeing_home"
  | "cmp_wellbeing_series"
  | "cmp_state_checkin"
  | "cmp_state_history"
  | "cmp_luma_play"
  | "cmp_luma_talk"
  | "cmp_proof_vault"
  | "cmp_proof_timeline"
  | "cmp_support_network"
  | "cmp_sos"

  // Console
  | "con_portal_shell"
  | "con_case_list"
  | "con_case_overview"
  | "con_case_timeline"
  | "con_orchestration_feed"
  | "con_trace_travel"
  | "con_signal_panels"
  | "con_review_queue"
  | "con_notes"
  | "con_integrity_log"

  // Command Center
  | "cc_portal_shell"
  | "cc_dashboard"
  | "cc_momentum_curves"
  | "cc_delivery_reliability"
  | "cc_consent_adherence"
  | "cc_escalation_adherence"
  | "cc_integrity_audit"
  | "cc_governance_matrix"
  | "cc_programs"
  | "cc_integrations_health"
  | "cc_exports_reports"

  // System layers
  | "sys_trust_rails"
  | "sys_consent_map"
  | "sys_quiet_hours"
  | "sys_escalation_protocols"
  | "sys_governance"
  | "sys_integrations"
  | "sys_identity_receipts"
  | "sys_audit_trail";

export type Aspect = "21:9" | "16:9" | "2:1" | "4:5" | "1:1" | "9:16";

export type AssetClass =
  | "atmosphere"
  | "hero"
  | "system"
  | "proof"
  | "icon"
  | "ui_texture"
  | "ui_illustration"
  | "motion_loop"
  | "audio_bed";

export type MotionPolicy = "allow" | "no_autoplay" | "poster_only";

/**
 * 1) Surface → Altitude
 * Canonical inference so registry + FE agree.
 */
export const SURFACE_TO_ALTITUDE: Record<Surface, Altitude> = Object.freeze({
  // Marketing treated as "companion altitude" by default for lens neutrality.
  mkt_home: "companion",
  mkt_how_it_works: "companion",
  mkt_trust: "companion",
  mkt_three_worlds: "companion",
  mkt_specs: "companion",
  mkt_contact: "companion",
  mkt_404: "companion",

  // Companion
  cmp_portal_shell: "companion",
  cmp_player: "companion",
  cmp_journeys_home: "companion",
  cmp_journeys_week: "companion",
  cmp_journeys_step: "companion",
  cmp_navicues_feed: "companion",
  cmp_navicues_detail: "companion",
  cmp_toolkit_home: "companion",
  cmp_toolkit_article: "companion",
  cmp_toolkit_practice: "companion",
  cmp_wellbeing_home: "companion",
  cmp_wellbeing_series: "companion",
  cmp_state_checkin: "companion",
  cmp_state_history: "companion",
  cmp_luma_play: "companion",
  cmp_luma_talk: "companion",
  cmp_proof_vault: "companion",
  cmp_proof_timeline: "companion",
  cmp_support_network: "companion",
  cmp_sos: "companion",

  // Console
  con_portal_shell: "console",
  con_case_list: "console",
  con_case_overview: "console",
  con_case_timeline: "console",
  con_orchestration_feed: "console",
  con_trace_travel: "console",
  con_signal_panels: "console",
  con_review_queue: "console",
  con_notes: "console",
  con_integrity_log: "console",

  // Command Center
  cc_portal_shell: "command_center",
  cc_dashboard: "command_center",
  cc_momentum_curves: "command_center",
  cc_delivery_reliability: "command_center",
  cc_consent_adherence: "command_center",
  cc_escalation_adherence: "command_center",
  cc_integrity_audit: "command_center",
  cc_governance_matrix: "command_center",
  cc_programs: "command_center",
  cc_integrations_health: "command_center",
  cc_exports_reports: "command_center",

  // System layers are "command_center" by default because they serve governance + infra,
  // but FE can still view them through any lens.
  sys_trust_rails: "command_center",
  sys_consent_map: "command_center",
  sys_quiet_hours: "command_center",
  sys_escalation_protocols: "command_center",
  sys_governance: "command_center",
  sys_integrations: "command_center",
  sys_identity_receipts: "command_center",
  sys_audit_trail: "command_center",
});

/**
 * 2) Surface → Room
 * The room axis (Journeys/NaviCues/Toolkit/Wellbeing/State/etc.)
 * Marketing pages map to library/trust for default selection.
 */
export const SURFACE_TO_ROOM: Record<Surface, Room> = Object.freeze({
  // Marketing
  mkt_home: "library",
  mkt_how_it_works: "library",
  mkt_trust: "trust",
  mkt_three_worlds: "library",
  mkt_specs: "library",
  mkt_contact: "library",
  mkt_404: "library",

  // Companion
  cmp_portal_shell: "library",
  cmp_player: "library",
  cmp_journeys_home: "journeys",
  cmp_journeys_week: "journeys",
  cmp_journeys_step: "journeys",
  cmp_navicues_feed: "navicues",
  cmp_navicues_detail: "navicues",
  cmp_toolkit_home: "toolkit",
  cmp_toolkit_article: "toolkit",
  cmp_toolkit_practice: "toolkit",
  cmp_wellbeing_home: "wellbeing",
  cmp_wellbeing_series: "wellbeing",
  cmp_state_checkin: "state",
  cmp_state_history: "state",
  cmp_luma_play: "library",
  cmp_luma_talk: "library",
  cmp_proof_vault: "library",
  cmp_proof_timeline: "library",
  cmp_support_network: "trust",
  cmp_sos: "trust",

  // Console
  con_portal_shell: "dashboard",
  con_case_list: "dashboard",
  con_case_overview: "dashboard",
  con_case_timeline: "dashboard",
  con_orchestration_feed: "dashboard",
  con_trace_travel: "dashboard",
  con_signal_panels: "dashboard",
  con_review_queue: "dashboard",
  con_notes: "dashboard",
  con_integrity_log: "trust",

  // Command Center
  cc_portal_shell: "dashboard",
  cc_dashboard: "dashboard",
  cc_momentum_curves: "dashboard",
  cc_delivery_reliability: "dashboard",
  cc_consent_adherence: "trust",
  cc_escalation_adherence: "trust",
  cc_integrity_audit: "trust",
  cc_governance_matrix: "trust",
  cc_programs: "dashboard",
  cc_integrations_health: "integrations",
  cc_exports_reports: "dashboard",

  // System layers
  sys_trust_rails: "trust",
  sys_consent_map: "trust",
  sys_quiet_hours: "trust",
  sys_escalation_protocols: "trust",
  sys_governance: "trust",
  sys_integrations: "integrations",
  sys_identity_receipts: "library",
  sys_audit_trail: "trust",
});

/**
 * 3) Aspect priority by surface
 * Helps selector pick 21:9 vs 16:9 vs card rails.
 */
export const ASPECT_PRIORITY_BY_SURFACE: Record<Surface, Aspect[]> = Object.freeze({
  // Marketing
  mkt_home: ["21:9", "16:9", "2:1", "9:16"],
  mkt_how_it_works: ["16:9", "2:1", "21:9", "9:16"],
  mkt_trust: ["16:9", "2:1", "21:9", "9:16"],
  mkt_three_worlds: ["16:9", "2:1", "21:9", "9:16"],
  mkt_specs: ["16:9", "2:1", "1:1"],
  mkt_contact: ["16:9", "2:1", "21:9"],
  mkt_404: ["16:9", "21:9"],

  // Companion (mobile-forward)
  cmp_portal_shell: ["16:9", "21:9", "9:16", "2:1"],
  cmp_player: ["16:9", "21:9", "9:16"],
  cmp_journeys_home: ["16:9", "4:5", "1:1", "9:16"],
  cmp_journeys_week: ["16:9", "4:5", "1:1"],
  cmp_journeys_step: ["16:9", "9:16", "4:5"],
  cmp_navicues_feed: ["4:5", "1:1", "16:9"],
  cmp_navicues_detail: ["9:16", "16:9", "4:5"],
  cmp_toolkit_home: ["16:9", "4:5", "1:1"],
  cmp_toolkit_article: ["16:9", "2:1", "4:5"],
  cmp_toolkit_practice: ["16:9", "4:5", "1:1"],
  cmp_wellbeing_home: ["16:9", "9:16", "4:5"],
  cmp_wellbeing_series: ["16:9", "9:16", "4:5"],
  cmp_state_checkin: ["1:1", "4:5", "16:9"],
  cmp_state_history: ["16:9", "2:1", "1:1"],
  cmp_luma_play: ["16:9", "2:1", "4:5"],
  cmp_luma_talk: ["16:9", "2:1", "4:5"],
  cmp_proof_vault: ["1:1", "4:5", "16:9"],
  cmp_proof_timeline: ["16:9", "2:1", "4:5"],
  cmp_support_network: ["16:9", "2:1"],
  cmp_sos: ["16:9", "2:1"],

  // Console (dashboard rails)
  con_portal_shell: ["16:9", "2:1", "21:9"],
  con_case_list: ["2:1", "16:9", "1:1"],
  con_case_overview: ["16:9", "2:1"],
  con_case_timeline: ["2:1", "16:9"],
  con_orchestration_feed: ["2:1", "16:9", "1:1"],
  con_trace_travel: ["16:9", "2:1"],
  con_signal_panels: ["2:1", "16:9", "1:1"],
  con_review_queue: ["2:1", "16:9"],
  con_notes: ["16:9", "2:1"],
  con_integrity_log: ["16:9", "2:1"],

  // Command Center
  cc_portal_shell: ["16:9", "2:1", "21:9"],
  cc_dashboard: ["16:9", "2:1"],
  cc_momentum_curves: ["16:9", "2:1"],
  cc_delivery_reliability: ["16:9", "2:1"],
  cc_consent_adherence: ["16:9", "2:1"],
  cc_escalation_adherence: ["16:9", "2:1"],
  cc_integrity_audit: ["16:9", "2:1"],
  cc_governance_matrix: ["16:9", "2:1"],
  cc_programs: ["16:9", "2:1"],
  cc_integrations_health: ["16:9", "2:1"],
  cc_exports_reports: ["16:9", "2:1"],

  // System layers
  sys_trust_rails: ["16:9", "2:1"],
  sys_consent_map: ["16:9", "2:1"],
  sys_quiet_hours: ["16:9", "2:1"],
  sys_escalation_protocols: ["16:9", "2:1"],
  sys_governance: ["16:9", "2:1"],
  sys_integrations: ["16:9", "2:1"],
  sys_identity_receipts: ["1:1", "4:5", "16:9"],
  sys_audit_trail: ["16:9", "2:1"],
});

/**
 * 4) Surface defaults
 * Guides selector: allowed classes + motion policies.
 */
export const SURFACE_DEFAULTS: Record<
  Surface,
  { allowed_classes: AssetClass[]; preferred_aspects: Aspect[]; motion_ok: boolean; motion_policy: MotionPolicy }
> = Object.freeze(
  Object.fromEntries(
    (Object.keys(ASPECT_PRIORITY_BY_SURFACE) as Surface[]).map((s) => {
      const room = SURFACE_TO_ROOM[s];
      const isMkt = s.startsWith("mkt_");
      const isCompanion = s.startsWith("cmp_");
      const isConsole = s.startsWith("con_");
      const isCC = s.startsWith("cc_");
      const isSys = s.startsWith("sys_");

      // Default allowed classes by context
      let allowed: AssetClass[] = ["ui_texture", "atmosphere", "system"];
      if (isMkt) allowed = ["hero", "atmosphere", "system", "ui_texture", "ui_illustration", "motion_loop"];
      if (isCompanion) allowed = ["atmosphere", "ui_texture", "proof", "system", "motion_loop"];
      if (isConsole || isCC || isSys) allowed = ["system", "ui_illustration", "ui_texture", "proof"];

      // Proof-heavy rooms can prefer proof
      if (s.includes("proof")) allowed = ["proof", "ui_texture", "system"];

      // Trust rooms lean system/illustration
      if (room === "trust") allowed = ["system", "ui_illustration", "ui_texture", "proof"];

      // Motion rules
      const motion_ok = isMkt || s === "cmp_player" || s === "cmp_portal_shell";
      const motion_policy: MotionPolicy = motion_ok ? "allow" : "poster_only";

      return [
        s,
        {
          allowed_classes: allowed,
          preferred_aspects: ASPECT_PRIORITY_BY_SURFACE[s],
          motion_ok,
          motion_policy,
        },
      ];
    })
  ) as any
);

/**
 * 5) Asset class by component (default intent)
 */
export const ASSET_CLASS_BY_COMPONENT: Record<string, AssetClass> = Object.freeze({
  // Marketing narrative
  WalkthroughPresenter: "hero",
  HeroKeynote: "hero",
  AmbientField: "atmosphere",
  SpineExplorer: "system",
  ContinuityStream: "system",
  OrchestrationFeed: "system",
  TraceTravel: "proof",
  TrustRails: "system",
  FrameworkGlossary: "ui_illustration",
  SpecsTable: "ui_illustration",
  CTACluster: "ui_texture",

  // Shell
  PortalShell: "atmosphere",
  DockSnap: "ui_texture",
  ConsoleOverlay: "system",
  SystemToast: "ui_texture",
  LensToggle: "ui_texture",
  UniversalPlayer: "atmosphere",

  // Companion
  JourneyRail: "ui_texture",
  JourneyWeekCard: "system",
  JourneyStepCard: "system",
  JourneyReceiptCard: "proof",
  NaviCueCard: "system",
  NaviCueMiniApp: "system",
  ToolkitCard: "ui_illustration",
  ToolkitArticle: "ui_illustration",
  PracticeCard: "ui_illustration",
  WellbeingSeriesCard: "atmosphere",
  WellbeingSessionCard: "atmosphere",
  StatePulse: "system",
  StateHistoryChart: "system",
  ProofVaultGrid: "proof",
  ProofTimeline: "proof",
  SupportGraph: "system",
  SOSPanel: "system",

  // Console
  CaseCard: "system",
  CaseTimeline: "system",
  ProfessionalOrchestrationCard: "system",
  SignalStrip: "ui_texture",
  SignalPanel: "system",
  ReviewQueueRow: "system",
  TraceTravelPanel: "proof",
  IntegrityLogTable: "ui_illustration",
  ConsentStatusRow: "ui_illustration",

  // Command Center
  OrgDashboardCard: "system",
  MomentumCurveChart: "system",
  ReliabilityChart: "system",
  AdherenceChart: "system",
  GovernanceMatrix: "ui_illustration",
  AuditTrailViewer: "ui_illustration",
  IntegrationsStatusPanel: "ui_illustration",
  ExportsReportBuilder: "ui_illustration",

  // Primitives
  Icon: "icon",
  PillarHalo: "ui_texture",
  ThreadOverlay: "ui_texture",
  SealPulse: "ui_texture",
  ReceiptTexture: "proof",
  GrainOverlay: "ui_texture",
  GlassSurface: "ui_texture",
  AudioBed: "audio_bed",
});

/**
 * 6) Component defaults (aspect + motion)
 */
export const COMPONENT_DEFAULTS: Record<
  string,
  { asset_class: AssetClass; preferred_aspects: Aspect[]; fallback_aspects: Aspect[]; motion_policy: MotionPolicy }
> = Object.freeze({
  WalkthroughPresenter: { asset_class: "hero", preferred_aspects: ["21:9"], fallback_aspects: ["16:9"], motion_policy: "allow" },
  HeroKeynote: { asset_class: "hero", preferred_aspects: ["21:9"], fallback_aspects: ["16:9"], motion_policy: "allow" },
  AmbientField: { asset_class: "atmosphere", preferred_aspects: ["21:9", "16:9"], fallback_aspects: ["16:9"], motion_policy: "allow" },

  SpineExplorer: { asset_class: "system", preferred_aspects: ["16:9", "2:1"], fallback_aspects: ["16:9"], motion_policy: "no_autoplay" },
  ContinuityStream: { asset_class: "system", preferred_aspects: ["2:1", "16:9"], fallback_aspects: ["16:9"], motion_policy: "no_autoplay" },
  OrchestrationFeed: { asset_class: "system", preferred_aspects: ["2:1", "16:9"], fallback_aspects: ["16:9"], motion_policy: "no_autoplay" },

  TraceTravel: { asset_class: "proof", preferred_aspects: ["16:9", "2:1"], fallback_aspects: ["2:1"], motion_policy: "allow" },
  TrustRails: { asset_class: "system", preferred_aspects: ["16:9", "2:1"], fallback_aspects: ["16:9"], motion_policy: "no_autoplay" },

  PortalShell: { asset_class: "atmosphere", preferred_aspects: ["16:9", "21:9", "9:16"], fallback_aspects: ["16:9"], motion_policy: "allow" },
  UniversalPlayer: { asset_class: "atmosphere", preferred_aspects: ["16:9", "9:16"], fallback_aspects: ["16:9"], motion_policy: "allow" },

  ProofVaultGrid: { asset_class: "proof", preferred_aspects: ["1:1", "4:5"], fallback_aspects: ["1:1"], motion_policy: "poster_only" },
  ProofTimeline: { asset_class: "proof", preferred_aspects: ["16:9", "2:1"], fallback_aspects: ["2:1"], motion_policy: "poster_only" },

  AudioBed: { asset_class: "audio_bed", preferred_aspects: [], fallback_aspects: [], motion_policy: "allow" },
});

/**
 * Helper: infer fit from surface for registry upserts.
 */
export function inferFitFromSurface(surface: Surface) {
  const altitude = SURFACE_TO_ALTITUDE[surface];
  const room = SURFACE_TO_ROOM[surface];
  const preferredAspects = ASPECT_PRIORITY_BY_SURFACE[surface];
  const surfaceDefaults = SURFACE_DEFAULTS[surface];

  // Lens defaults: marketing + sys are universal; platform surfaces inherit context
  const lenses: Lens[] = surface.startsWith("con_")
    ? ["professional"]
    : surface.startsWith("cc_")
      ? ["organisation"]
      : surface.startsWith("cmp_")
        ? ["individual"]
        : ["individual", "professional", "organisation"];

  return {
    altitude,
    room,
    lenses,
    preferredAspects,
    surfaceDefaults,
  };
}

/**
 * Helper: component defaults.
 */
export function inferDefaultsForComponent(componentName: string) {
  const base = COMPONENT_DEFAULTS[componentName];
  if (base) return base;

  // fallback: derive from asset class map
  const cls = ASSET_CLASS_BY_COMPONENT[componentName] ?? "system";
  return {
    asset_class: cls,
    preferred_aspects: ["16:9"] as Aspect[],
    fallback_aspects: ["2:1", "16:9"] as Aspect[],
    motion_policy: cls === "motion_loop" ? ("allow" as MotionPolicy) : ("no_autoplay" as MotionPolicy),
  };
}

```
  
# **How your team uses this (the two killer uses)**  
## **1) Sync script (Canva → registry) uses this to auto-fill fit**  
When parsing a Canva name like: cmp_player__motion_loop__loop_ambient_field_002__16x9__v1  
They do:  
* surface = "cmp_player"  
* then inferFitFromSurface(surface) to set:  
    * altitude: companion  
    * room: library  
    * lenses: ["individual"]  
    * preferredAspects: ["16:9","21:9","9:16"]  
    * allowed classes, motion policy, etc.  
No guesswork. No drift.  
## **2) Frontend selector uses the same map to pick best asset**  
When rendering WalkthroughPresenter on mkt_home, FE does:  
* inferDefaultsForComponent("WalkthroughPresenter")  
* ASPECT_PRIORITY_BY_SURFACE["mkt_home"]  
* pick best rendition that matches budgets + reduced motion  
Same truth end-to-end.  
  
If you want, next roll is the **selectAsset()** function that takes:  
If you want, next roll is the **selectAsset()** function that takes:  
* surface, component, lens, preferMotion, schemaIds, pillarIds …and returns:  
* src, srcset, type, poster, preloadHints, budgetsWarnings.  
