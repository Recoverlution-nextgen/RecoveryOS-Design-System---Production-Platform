/**
 * ============================================================================
 * HEADER STYLES - Universal Page Header System
 * ============================================================================
 * 
 * Purpose: Centralized CSS for all page header components
 * Benefits:
 *   - No inline styles (clean component code)
 *   - Consistent styling across all headers
 *   - Easy to maintain and update
 *   - Better performance (cached CSS)
 *   - Proper background image handling
 * 
 * Components using this file:
 *   - UniversalPageHeader.tsx
 *   - UniversalPageHeaderCompact.tsx
 *   - UniversalPageHeaderBanner.tsx
 *   - PageHeader.tsx
 *   - WellbeingHeader.tsx
 * 
 * Created: November 7, 2025
 * ============================================================================
 */

/* ============================================================================
   BASE HEADER CONTAINER
   ============================================================================ */

.header-container {
  position: relative;
  width: 100%;
}

.header-container-default {
  height: 320px;
}

.header-container-tall {
  height: 480px;
}

.header-container-compact {
  height: 200px;
}

.header-container-banner {
  height: 120px;
}

/* ============================================================================
   BACKGROUND IMAGE LAYER
   ============================================================================ */

.header-background {
  position: absolute;
  inset: 0;
  z-index: 0;
}

.header-background-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

/* Image loading states */
.header-background-image[src=""] {
  background: linear-gradient(135deg, #3E2BB8 0%, #5739FB 100%);
}

/* Scrim overlay for text readability */
.header-scrim {
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.4) 0%, transparent 50%, transparent 100%);
  pointer-events: none;
}

.header-scrim-heavy {
  background: linear-gradient(to top, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.3) 50%, transparent 100%);
}

.header-scrim-light {
  background: linear-gradient(to top, rgba(0, 0, 0, 0.2) 0%, transparent 50%, transparent 100%);
}

/* ============================================================================
   CONTENT LAYER (Frosted Glass Card)
   ============================================================================ */

.header-content {
  position: relative;
  z-index: 10;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 1.5rem;
}

@media (min-width: 768px) {
  .header-content {
    padding: 2rem;
  }
}

/* Frosted glass card at bottom */
.header-glass-card {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(32px) saturate(180%);
  -webkit-backdrop-filter: blur(32px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 1.5rem;
  padding: 1.5rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
  transition: all 300ms ease;
}

.header-glass-card:hover {
  background: rgba(255, 255, 255, 0.15);
}

@media (min-width: 768px) {
  .header-glass-card {
    padding: 2rem;
  }
}

/* Centered content variant (no glass card) */
.header-content-centered {
  justify-content: center;
  align-items: center;
  text-align: center;
}

/* ============================================================================
   HEADER TEXT ELEMENTS
   ============================================================================ */

.header-title-badge {
  display: inline-block;
  margin-bottom: 0.75rem;
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.header-title {
  color: white;
  font-size: 1.5rem;
  line-height: 1.2;
  margin: 0;
  font-family: var(--font-display);
  font-weight: 700;
}

@media (min-width: 768px) {
  .header-title {
    font-size: 1.875rem;
  }
}

.header-subtitle {
  color: rgba(255, 255, 255, 0.95);
  font-size: 0.875rem;
  font-weight: 500;
  margin-top: 0.25rem;
  font-family: var(--font-sans);
}

/* ============================================================================
   HEADER LAYOUT VARIANTS
   ============================================================================ */

/* Flex layout for title/actions */
.header-layout-flex {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

@media (min-width: 768px) {
  .header-layout-flex {
    flex-direction: row;
    align-items: flex-end;
    justify-content: space-between;
  }
}

.header-text-section {
  flex: 1;
}

.header-actions-section {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

/* ============================================================================
   NAVIGATION SECTION
   ============================================================================ */

.header-navigation {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
}

/* ============================================================================
   GRADIENT HEADER (Legacy PageHeader.tsx)
   ============================================================================ */

.header-gradient {
  position: relative;
  height: 7rem;
  overflow: hidden;
  background: linear-gradient(135deg, #A8C5CB 0%, #6B9FA6 50%, #2C4F7C 100%);
}

/* Ambient blur orbs */
.header-gradient::before {
  content: '';
  position: absolute;
  top: 0;
  left: 25%;
  width: 16rem;
  height: 16rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  filter: blur(64px);
}

.header-gradient::after {
  content: '';
  position: absolute;
  bottom: 0;
  right: 25%;
  width: 12rem;
  height: 12rem;
  background: rgba(44, 79, 124, 0.2);
  border-radius: 50%;
  filter: blur(64px);
}

/* Decorative grid pattern */
.header-gradient-grid {
  position: absolute;
  inset: 0;
  opacity: 0.05;
  background-image: radial-gradient(circle, white 1px, transparent 1px);
  background-size: 20px 20px;
}

.header-gradient-content {
  position: relative;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 3rem;
}

/* ============================================================================
   STATS DISPLAY
   ============================================================================ */

.header-stats {
  display: flex;
  gap: 2rem;
}

.header-stat-item {
  text-align: right;
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.875rem;
}

.header-stat-value {
  color: white;
  font-weight: 600;
}

.header-stat-label {
  font-size: 0.75rem;
  color: rgba(255, 255, 255, 0.6);
}

/* ============================================================================
   ICON BADGE
   ============================================================================ */

.header-icon-badge {
  width: 1.75rem;
  height: 1.75rem;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ============================================================================
   RESPONSIVE OPTIMIZATIONS
   ============================================================================ */

/* Mobile: Reduce heights */
@media (max-width: 767px) {
  .header-container-default {
    height: 240px;
  }
  
  .header-container-tall {
    height: 320px;
  }
  
  .header-container-compact {
    height: 160px;
  }
  
  .header-container-banner {
    height: 100px;
  }
}

/* Tablet: Medium sizes */
@media (min-width: 768px) and (max-width: 1023px) {
  .header-container-default {
    height: 280px;
  }
  
  .header-container-tall {
    height: 400px;
  }
}

/* ============================================================================
   ACCESSIBILITY
   ============================================================================ */

/* Ensure sufficient contrast for text */
.header-title,
.header-subtitle,
.header-title-badge {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Focus states for interactive elements */
.header-glass-card:focus-within {
  outline: 2px solid rgba(255, 255, 255, 0.5);
  outline-offset: 2px;
}

/* ============================================================================
   ANIMATION & TRANSITIONS
   ============================================================================ */

/* Smooth image loading */
.header-background-image {
  animation: fadeIn 400ms ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Glass card entrance */
.header-glass-card {
  animation: slideUpFadeIn 500ms ease-out;
}

@keyframes slideUpFadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================================================
   UTILITY CLASSES
   ============================================================================ */

/* Force background image to load immediately */
.header-preload-image {
  content: '';
  position: absolute;
  width: 0;
  height: 0;
  opacity: 0;
  pointer-events: none;
}

/* Dark overlay for better text contrast */
.header-dark-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.3);
}

/* Light overlay for dark backgrounds */
.header-light-overlay {
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.1);
}

/* ============================================================================
   BROWSER-SPECIFIC FIXES
   ============================================================================ */

/* Safari backdrop-filter fix */
@supports (-webkit-backdrop-filter: none) {
  .header-glass-card {
    -webkit-backdrop-filter: blur(32px) saturate(180%);
  }
}

/* Firefox backdrop-filter fallback */
@supports not (backdrop-filter: blur(32px)) {
  .header-glass-card {
    background: rgba(255, 255, 255, 0.25);
  }
}

/* ============================================================================
   PRINT STYLES
   ============================================================================ */

@media print {
  .header-background-image,
  .header-scrim,
  .header-glass-card {
    background: white !important;
    backdrop-filter: none !important;
    border: 1px solid #e5e7eb !important;
  }
  
  .header-title,
  .header-subtitle {
    color: black !important;
  }
}

/* ============================================================================
   DASHBOARD-SPECIFIC HEADER BACKGROUNDS
   ============================================================================
   Purpose: Pre-built background classes for each platform page
   Maps to: DASHBOARD_ASSETS from /utils/dashboardAssetManifest.tsx
   Usage: Add class to .header-background element
   ============================================================================ */

/* Journey (PathwayPage) - Peaceful journey path */
.header-bg-journey {
  background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Journey-Optimized.webp?tr=w-1920,f-webp,q-85');
  background-size: cover;
  background-position: center;
}

/* Navicues - Smooth purple smoke */
.header-bg-navicues {
  background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Navicues-Optimized.webp?tr=w-1920,f-webp,q-85');
  background-size: cover;
  background-position: center;
}

/* Wellbeing - Soft purple mist forest */
.header-bg-wellbeing {
  background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Wellbeing-Optimized.webp?tr=w-1920,f-webp,q-85');
  background-size: cover;
  background-position: center;
}

/* State (InnerCompassPage) - Smooth gradient waves */
.header-bg-state {
  background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-State-Optimized.webp?tr=w-1920,f-webp,q-85');
  background-size: cover;
  background-position: center;
}

/* Toolkit - Abstract library workspace */
.header-bg-toolkit {
  background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Toolkit-Optimized.webp?tr=w-1920,f-webp,q-85');
  background-size: cover;
  background-position: center;
}

/* Navigate - Soft layered waves purple */
.header-bg-navigate {
  background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Navigate-Optimized.webp?tr=w-1920,f-webp,q-85');
  background-size: cover;
  background-position: center;
}

/* Momentum - Peaceful journey mountain path */
.header-bg-momentum {
  background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Momentum-Optimized.webp?tr=w-1920,f-webp,q-85');
  background-size: cover;
  background-position: center;
}

/* ============================================================================
   RESPONSIVE DASHBOARD BACKGROUNDS (Mobile Optimization)
   ============================================================================ */

/* Mobile: Smaller image sizes for performance */
@media (max-width: 767px) {
  .header-bg-journey {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Journey-Optimized.webp?tr=w-768,f-webp,q-80');
  }
  
  .header-bg-navicues {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Navicues-Optimized.webp?tr=w-768,f-webp,q-80');
  }
  
  .header-bg-wellbeing {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Wellbeing-Optimized.webp?tr=w-768,f-webp,q-80');
  }
  
  .header-bg-state {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-State-Optimized.webp?tr=w-768,f-webp,q-80');
  }
  
  .header-bg-toolkit {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Toolkit-Optimized.webp?tr=w-768,f-webp,q-80');
  }
  
  .header-bg-navigate {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Navigate-Optimized.webp?tr=w-768,f-webp,q-80');
  }
  
  .header-bg-momentum {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Momentum-Optimized.webp?tr=w-768,f-webp,q-80');
  }
}

/* Tablet: Medium image sizes */
@media (min-width: 768px) and (max-width: 1279px) {
  .header-bg-journey {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Journey-Optimized.webp?tr=w-1280,f-webp,q-82');
  }
  
  .header-bg-navicues {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Navicues-Optimized.webp?tr=w-1280,f-webp,q-82');
  }
  
  .header-bg-wellbeing {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Wellbeing-Optimized.webp?tr=w-1280,f-webp,q-82');
  }
  
  .header-bg-state {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-State-Optimized.webp?tr=w-1280,f-webp,q-82');
  }
  
  .header-bg-toolkit {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Toolkit-Optimized.webp?tr=w-1280,f-webp,q-82');
  }
  
  .header-bg-navigate {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Navigate-Optimized.webp?tr=w-1280,f-webp,q-82');
  }
  
  .header-bg-momentum {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Momentum-Optimized.webp?tr=w-1280,f-webp,q-82');
  }
}

/* Desktop: Full resolution */
@media (min-width: 1280px) {
  .header-bg-journey {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Journey-Optimized.webp?tr=w-1920,f-webp,q-85');
  }
  
  .header-bg-navicues {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Navicues-Optimized.webp?tr=w-1920,f-webp,q-85');
  }
  
  .header-bg-wellbeing {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Wellbeing-Optimized.webp?tr=w-1920,f-webp,q-85');
  }
  
  .header-bg-state {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-State-Optimized.webp?tr=w-1920,f-webp,q-85');
  }
  
  .header-bg-toolkit {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Toolkit-Optimized.webp?tr=w-1920,f-webp,q-85');
  }
  
  .header-bg-navigate {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Navigate-Optimized.webp?tr=w-1920,f-webp,q-85');
  }
  
  .header-bg-momentum {
    background-image: url('https://ik.imagekit.io/recoverlution/Dashboard-Momentum-Optimized.webp?tr=w-1920,f-webp,q-85');
  }
}

/* ============================================================================
   PAGE HEADER SYSTEM (Universal for all "rooms")
   ============================================================================
   Purpose: Consistent header across Journey, Wellbeing, State, etc.
   Usage: See JourneyListPage, JourneyWelcomePage
   ============================================================================ */

.page-header-container {
  width: 100%;
  background: white;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
  padding: 1.25rem 0;
}

.page-header-content {
  max-width: 80rem;
  margin: 0 auto;
  padding: 0 1.5rem;
}

@media (min-width: 768px) {
  .page-header-content {
    padding: 0 2rem;
  }
}

.page-header-left {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.page-header-icon-wrapper {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  background: linear-gradient(135deg, rgba(62, 43, 184, 0.1) 0%, rgba(87, 57, 251, 0.1) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.page-header-icon {
  width: 1.25rem;
  height: 1.25rem;
  color: #3E2BB8;
}

.page-header-title {
  color: #1A1A1A;
  font-family: var(--font-display);
  font-weight: 600;
  font-size: 1.25rem;
  line-height: 1.2;
  letter-spacing: -0.015em;
  margin: 0;
}

@media (min-width: 768px) {
  .page-header-title {
    font-size: 1.5rem;
  }
}

.page-header-subtitle {
  color: #6B7280;
  font-family: var(--font-sans);
  font-size: 0.875rem;
  line-height: 1.4;
  margin: 0;
  margin-top: 0.125rem;
}

/* ============================================================================
   DEBUG MODE (Uncomment to visualize boundaries)
   ============================================================================ */

/*
.header-container { outline: 2px solid red; }
.header-background { outline: 2px solid blue; }
.header-content { outline: 2px solid green; }
.header-glass-card { outline: 2px solid yellow; }
*/
