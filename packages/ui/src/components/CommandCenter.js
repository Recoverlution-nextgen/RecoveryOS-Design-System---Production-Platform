import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
export const CommandCenter = ({ logs, organizationName = 'RecoveryOS' }) => {
    const quietHoursOk = logs.filter((l) => l.quiet_hours_adherence).length;
    const consentOk = logs.filter((l) => l.consent_adherence).length;
    const deliveryOk = logs.filter((l) => l.delivery_success).length;
    const compliance = logs.length > 0 ? {
        quiet_hours: Math.round((quietHoursOk / logs.length) * 100),
        consent: Math.round((consentOk / logs.length) * 100),
        delivery: Math.round((deliveryOk / logs.length) * 100),
    } : { quiet_hours: 0, consent: 0, delivery: 0 };
    const escalations = logs.filter((l) => l.escalation_protocol_used).length;
    return (_jsx("div", { className: "card", role: "region", "aria-label": "Command center", children: _jsxs("div", { className: "stack", style: { gap: 12 }, children: [_jsxs("div", { className: "row", style: { justifyContent: 'space-between' }, children: [_jsx("h2", { className: "title", style: { margin: 0 }, children: "Command Center" }), _jsx("span", { className: "label", children: organizationName })] }), _jsxs("div", { style: { display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: 10 }, children: [_jsxs("div", { className: "panel", style: { padding: '10px 12px' }, children: [_jsx("p", { className: "label", style: { margin: 0 }, children: "Deliveries" }), _jsx("p", { className: "title", style: { margin: '4px 0 0 0', fontSize: 24 }, children: logs.length })] }), _jsxs("div", { className: "panel", style: { padding: '10px 12px' }, children: [_jsx("p", { className: "label", style: { margin: 0 }, children: "Compliance" }), _jsxs("div", { className: "progress", style: { marginTop: 4 }, children: [_jsx("span", { className: `dot ${compliance.quiet_hours > 90 ? 'active' : ''}` }), _jsxs("span", { style: { fontSize: 12 }, children: [compliance.quiet_hours, "%"] })] })] }), _jsxs("div", { className: "panel", style: { padding: '10px 12px' }, children: [_jsx("p", { className: "label", style: { margin: 0 }, children: "Consent OK" }), _jsxs("p", { className: "title", style: { margin: '4px 0 0 0', fontSize: 24 }, children: [compliance.consent, "%"] })] }), _jsxs("div", { className: "panel", style: { padding: '10px 12px' }, children: [_jsx("p", { className: "label", style: { margin: 0 }, children: "Escalations" }), _jsx("p", { className: "title", style: { margin: '4px 0 0 0', fontSize: 24 }, children: escalations })] })] }), _jsx("hr", { className: "divider" }), _jsxs("div", { className: "stack", style: { gap: 8 }, children: [_jsx("p", { className: "label", children: "Continuity audit trail" }), _jsxs("div", { className: "kv", style: { fontSize: 12 }, children: [_jsx("span", { className: "label", children: "Quiet hours" }), _jsxs("span", { children: ["Adherence: ", compliance.quiet_hours, "%"] }), _jsx("span", { className: "label", children: "Consent" }), _jsxs("span", { children: ["Adherence: ", compliance.consent, "%"] }), _jsx("span", { className: "label", children: "Delivery" }), _jsxs("span", { children: ["Success: ", compliance.delivery, "%"] }), _jsx("span", { className: "label", children: "Last update" }), _jsx("span", { children: logs.length > 0 ? new Date(logs[logs.length - 1].timestamp).toLocaleString() : 'â€”' })] })] }), _jsx("hr", { className: "divider" }), _jsxs("div", { className: "stack", style: { gap: 6 }, children: [_jsx("p", { className: "label", children: "Escalation protocols used" }), logs.filter((l) => l.escalation_protocol_used).length === 0 ? (_jsx("span", { className: "subtitle", style: { margin: 0 }, children: "No escalations recorded." })) : (_jsx("div", { className: "list", children: Array.from(new Set(logs.filter((l) => l.escalation_protocol_used).map((l) => l.escalation_protocol_used))).map((proto) => (_jsx("div", { className: "chip", children: proto }, proto))) }))] }), _jsx("hr", { className: "divider" }), _jsx("div", { className: "row", style: { gap: 8, justifyContent: 'center' }, children: _jsx("span", { className: "label", children: "Defensible continuity: moment \u2192 clinician \u2192 org" }) })] }) }));
};
