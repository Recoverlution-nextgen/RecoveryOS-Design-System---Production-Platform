:root {
  /* === Foundation: Color === */
  --color-surface-base: #0c0d0f;
  --color-surface-elevated: #1a1c1f;
  --color-text-primary: #f7f7f5;
  --color-text-secondary: #b7bcc6;
  --color-text-tertiary: #8a8f99;
  --color-text-inverse: #0c0d0f;
  --color-accent-primary: #4fb3ff;
  --color-accent-warm: #ffb677;
  --color-border-subtle: #2a2d33;
  --color-border: #3a3d43;
  --color-hover: #f3f4f6;
  --color-state-safe: #7ee0a3;
  --color-state-caution: #f6d365;
  --color-state-alert: #ff6f61;

  /* === Foundation: Spacing === */
  --space-1: 0.25rem;  /* 4px */
  --space-2: 0.5rem;   /* 8px */
  --space-3: 0.75rem;  /* 12px */
  --space-4: 1rem;     /* 16px */
  --space-6: 1.5rem;   /* 24px */
  --space-8: 2rem;     /* 32px */
  --space-12: 3rem;    /* 48px */
  --space-16: 4rem;    /* 64px */

  /* === Foundation: Radius === */
  --radius-xs: 6px;
  --radius-sm: 10px;
  --radius-md: 14px;
  --radius-lg: 18px;

  /* === Foundation: Elevation === */
  --shadow-0: none;
  --shadow-1: 0 6px 20px rgba(0, 0, 0, 0.18);
  --shadow-2: 0 10px 30px rgba(0, 0, 0, 0.22);

  /* === Foundation: Motion === */
  --motion-fast: 120ms;
  --motion-base: 180ms;
  --motion-slow: 240ms;
  --motion-easing: cubic-bezier(0.19, 0.8, 0.2, 1);

  /* === Foundation: Typography === */
  --font-display: 'SF Pro Display', 'SF Pro Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-body: 'SF Pro Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: 'SF Mono', 'SF Pro Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', monospace;

  /* Typography scale */
  --text-display-1: 600 2.75rem/3.25rem var(--font-display);  /* 44px/52px */
  --text-title-2: 600 1.75rem/2.125rem var(--font-display);   /* 28px/34px */
  --text-title-3: 600 1.25rem/1.75rem var(--font-display);    /* 20px/28px */
  --text-body-1: 400 1rem/1.5rem var(--font-body);            /* 16px/24px */
  --text-body-2: 400 0.875rem/1.375rem var(--font-body);      /* 14px/22px */
  --text-body-3: 400 0.8125rem/1.25rem var(--font-body);      /* 13px/20px */
  --text-mono-1: 500 0.8125rem/1.25rem var(--font-mono);      /* 13px/20px */

  /* === Semantic: Return === */
  --return-surface: var(--color-surface-elevated);
  --return-ink: var(--color-text-primary);
  --return-focus-ring: var(--color-accent-primary);
  --return-press: var(--color-accent-warm);
  --return-glow: rgba(79, 179, 255, 0.2);

  /* === Semantic: Thread === */
  --thread-line: var(--color-border-subtle);
  --thread-node: var(--color-accent-primary);
  --thread-pulse: var(--color-accent-warm);
  --thread-depth-fg: var(--color-surface-elevated);
  --thread-depth-bg: var(--color-surface-base);

  /* === Semantic: Trace === */
  --trace-surface: var(--color-surface-elevated);
  --trace-border: var(--color-border-subtle);
  --trace-stamp: var(--color-accent-primary);
  --trace-seal: var(--color-accent-warm);
  --trace-vault-surface: var(--color-surface-base);

  /* === Semantic: Handrail === */
  --handrail-surface: var(--color-surface-elevated);
  --handrail-border: var(--color-state-alert);
  --handrail-callout: var(--color-state-safe);
  --handrail-escalate: var(--color-state-caution);

  /* === Semantic: Lens === */
  --lens-individual: var(--color-accent-primary);
  --lens-professional: var(--color-accent-warm);
  --lens-organisation: #a78bfa;

  /* === Semantic: Motion === */
  --motion-arrive: 240ms cubic-bezier(0.19, 0.8, 0.2, 1);
  --motion-glide: 360ms cubic-bezier(0.4, 0, 0.2, 1);
  --motion-settle: 480ms cubic-bezier(0.19, 1, 0.22, 1);
  --motion-confirm: 180ms cubic-bezier(0.19, 0.8, 0.2, 1);
  --motion-carry: 300ms cubic-bezier(0.4, 0, 0.2, 1);

  /* === Semantic: Drift (state awareness) === */
  --drift-stable: var(--color-state-safe);
  --drift-noticing: var(--color-state-caution);
  --drift-active: var(--color-state-alert);
}

/* === Mode: Calm (default) === */
.theme-calm {
  --color-surface-base: #0c0d0f;
  --color-surface-elevated: #1a1c1f;
  --color-text-primary: #f7f7f5;
  --color-text-secondary: #b7bcc6;
  --color-accent-primary: #4fb3ff;
  --color-accent-warm: #ffb677;
  
  /* Semantic overrides for calm */
  --return-glow: rgba(79, 179, 255, 0.15);
  --thread-pulse: rgba(255, 182, 119, 0.3);
}

/* === Mode: Heat (higher contrast, focused) === */
.theme-heat {
  --color-surface-base: #050607;
  --color-surface-elevated: #0e1012;
  --color-text-primary: #ffffff;
  --color-text-secondary: #d1d5dc;
  --color-accent-primary: #7bd2ff;
  --color-accent-warm: #ffc38d;
  
  /* Semantic overrides for heat */
  --return-glow: rgba(123, 210, 255, 0.3);
  --thread-pulse: rgba(255, 195, 141, 0.4);
  --trace-stamp: #7bd2ff;
  --trace-seal: #ffc38d;
}

/* === Accessibility === */
@media (prefers-reduced-motion: reduce) {
  :root {
    --motion-fast: 0ms;
    --motion-base: 0ms;
    --motion-slow: 0ms;
    --motion-arrive: 0ms;
    --motion-glide: 0ms;
    --motion-settle: 0ms;
    --motion-confirm: 0ms;
    --motion-carry: 0ms;
  }
}
