/* ============================================================
   SITE LENS TOGGLE - Site-level lens switcher
   ============================================================ */

.ro-site-lens {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1);
  background: var(--return-surface);
  border: 1px solid var(--thread-line);
  border-radius: var(--radius-lg);
  box-shadow: var(--elevation-0);
}

.ro-site-lens__btn {
  position: relative;
  z-index: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-2) var(--space-4);
  border: none;
  background: transparent;
  color: var(--return-ink);
  font-family: var(--font-display);
  font-weight: 600;
  font-size: 13px;
  line-height: 1.4;
  letter-spacing: var(--tracking-tight);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: color var(--motion-arrive) var(--ease-regulate);
}

.ro-site-lens__btn:hover {
  color: var(--thread-pulse);
}

.ro-site-lens__btn--active {
  color: var(--return-surface);
}

.ro-site-lens__btn:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--return-focus-ring);
}

.ro-site-lens__short {
  display: none;
}

/* Indicator (slides behind active button) */
.ro-site-lens__indicator {
  position: absolute;
  top: var(--space-1);
  bottom: var(--space-1);
  left: calc(var(--space-1) + (var(--lens-index, 0) * (100% / 3)));
  width: calc((100% - var(--space-2)) / 3);
  background: var(--lens-individual);
  border-radius: var(--radius-md);
  box-shadow: var(--elevation-1);
  transition: 
    left var(--motion-glide) var(--ease-regulate),
    background var(--motion-arrive) var(--ease-regulate);
  pointer-events: none;
}

.ro-site-lens__indicator[data-active="individual"] {
  background: var(--lens-individual);
}

.ro-site-lens__indicator[data-active="professional"] {
  background: var(--lens-professional);
}

.ro-site-lens__indicator[data-active="organisation"] {
  background: var(--lens-organisation);
}

/* Variant: chrome (default, compact) */
.ro-site-lens--chrome .ro-site-lens__label {
  display: block;
}

.ro-site-lens--chrome .ro-site-lens__short {
  display: none;
}

/* Variant: inline (medium size) */
.ro-site-lens--inline {
  padding: var(--space-2);
  gap: var(--space-2);
}

.ro-site-lens--inline .ro-site-lens__btn {
  padding: var(--space-3) var(--space-6);
  font-size: 14px;
}

/* Variant: hero (large, prominent) */
.ro-site-lens--hero {
  padding: var(--space-3);
  gap: var(--space-3);
  border-width: 2px;
}

.ro-site-lens--hero .ro-site-lens__btn {
  padding: var(--space-4) var(--space-8);
  font-size: 16px;
  font-weight: 650;
}

/* Mobile: show short labels */
@media (max-width: 640px) {
  .ro-site-lens__label {
    display: none;
  }

  .ro-site-lens__short {
    display: block;
  }

  .ro-site-lens--hero .ro-site-lens__label {
    display: block;
  }

  .ro-site-lens--hero .ro-site-lens__short {
    display: none;
  }
}

/* Lens adaptations (meta: the toggle itself responds to lens) */
[data-lens="individual"] .ro-site-lens {
  border-width: 1px;
}

[data-lens="organisation"] .ro-site-lens {
  border-width: 1px;
}

[data-lens="organisation"] .ro-site-lens__btn {
  font-family: var(--font-mono);
  font-size: 12px;
  letter-spacing: 0;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .ro-site-lens__indicator {
    transition: none;
  }
}
